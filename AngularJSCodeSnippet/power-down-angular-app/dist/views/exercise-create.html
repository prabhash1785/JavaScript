<div><section id="intro"><div class="container"><div class="row"><div class="sectionTitle"><div ng-show="exerciseModel.id" class="titleBox">exercise library &nbsp;&nbsp;>&nbsp;&nbsp; edit</div><div ng-show="!exerciseModel.id" class="titleBox">exercise library &nbsp;&nbsp;>&nbsp;&nbsp; create</div></div><a href="/exercises/{{ exerciseModel.id }}" ng-show="exerciseModel.id" class="backToDetails btn btn-secondary"><span class="glyphicon glyphicon-hand-right"></span>finish editing</a><div ng-show="loading" class="loaderContainer"><div class="loader"></div></div></div></div></section><section id="maincontent" class="createExercise"><div class="container"><div class="visible-xs"><div ng-show="exerciseModel.id" class="status alert alert-info"><span class="glyphicon glyphicon-pencil"></span> editing <span>{{ exerciseModel.name }}</span></div><div ng-show="!exerciseModel.id" class="status alert alert-info"><span class="glyphicon glyphicon-cloud-upload"></span> creating a <span>new exercise</span></div></div><ul cm-tabs="" class="nav nav-tabs cB"><li ng-class="{active: panes.basicInfo}"><a ng-click="tabSelect('basicInfo')"><span class="glyphicon glyphicon-th-list"></span><span class="textName">BASIC INFO</span></a></li><li ng-class="{active: panes.stepsImages}"><a ng-click="tabSelect('stepsImages')"><span class="glyphicon glyphicon-picture"></span><span class="textName">STEPS & IMAGES</span></a></li><li ng-class="{active: panes.videos}"><a ng-click="tabSelect('videos')"><span class="glyphicon glyphicon-facetime-video"></span><span class="textName">VIDEOS</span></a></li><li class="status-tab hidden-xs"><div ng-show="!exerciseModel.id" class="newExr"><span class="glyphicon glyphicon-cloud-upload"></span> creating a <span class="name">new exercise</span></div><div ng-show="exerciseModel.id" class="editingExr"><span class="glyphicon glyphicon-pencil"></span> editing <span class="name">{{ exerciseModel.name }}</span></div></li></ul><div class="tab-content"><!-- -- Basic Info ----><div ng-class="{active: panes.basicInfo}" class="tab-pane"><div ng-show="isNewExr" class="alert alert-success newExerciseSuccess"><span class="glyphicon glyphicon-ok"></span><span class="callout">{{ exerciseModel.name }}</span> has been created</div><form name="createNewExerciseForm" cm-form-validator="" ng-submit="addOrEditExercise()" class="formMediumHorz form-horizontal"><div class="col-md-9"><div class="form-group"><label class="col-md-2 control-label">name</label><div class="col-md-10"><input type="text" ng-model="exerciseModel.name" name="inputName" placeholder="exercise name" autofocus required class="form-control"></div></div><div class="form-group"><label class="col-md-2 control-label">description</label><div class="col-md-10"><div text-angular="" ng-model="exerciseModel.description"></div></div></div></div><div class="col-md-3 metaData"><div class="col-xs-6 col-md-12 form-group"><label class="control-label">target</label><div class="checkbox-group"><label for="{{ x.id }}" ng-repeat="x in allMeta.target" ng-class="{highlight: list[x.id]}" class="checkbox"><input type="checkbox" ng-model="list[x.id]" id="{{ x.id }}">{{ x.name }}</label></div></div><div class="col-xs-6 col-md-12 form-group"><label class="control-label">type</label><div class="checkbox-group"><label for="{{ x.id }}" ng-repeat="x in allMeta.type" ng-class="{highlight: list[x.id]}" class="checkbox"><input type="checkbox" ng-model="list[x.id]" id="{{ x.id }}">{{ x.name }}</label></div></div><div class="col-xs-6 col-md-12 form-group"><label class="control-label">equipment</label><div class="checkbox-group"><label for="{{ x.id }}" ng-repeat="x in allMeta.equipment" ng-class="{highlight: list[x.id]}" class="checkbox"><input type="checkbox" ng-model="list[x.id]" id="{{ x.id }}">{{ x.name }}</label></div></div><div class="col-xs-6 col-md-12 form-group"><label class="control-label">difficulty</label><div class="checkbox-group"><label for="{{ x.id }}" ng-repeat="x in allMeta.difficulty" ng-class="{highlight: list[x.id]}" class="checkbox"><input type="checkbox" ng-model="list[x.id]" id="{{ x.id }}">{{ x.name }}</label></div></div></div><div class="col-md-9"><div class="col-md-10 col-md-offset-2"><div ng-show="createNewExerciseForm.errorPresent &amp;&amp; createNewExerciseForm.$error.required" class="formMessageError">A required field is missing</div><div ng-show="createNewExerciseForm.clicked" ng-repeat="err in exerciseModel.errorMessages" class="formMessageError animateFade">{{err.message}}</div><div ng-show="!createNewExerciseForm.errorPresent &amp;&amp; createNewExerciseForm.formSuccess" class="alert alert-success animateFade"><span class="glyphicon glyphicon-ok"></span> {{exerciseModel.message}}</div><button type="submit" ng-click="createNewExerciseForm.formClick($event)" class="btn btn-medium btn-primary"><span ng-show="!exerciseModel.id">create</span><span ng-show="exerciseModel.id">update</span></button></div></div></form></div><!-- -- Steps & Images ----><div ng-class="{active: panes.stepsImages}" class="tab-pane"><form name="uploadImageForm" cm-form-validator="" ng-submit="addOrEditImage()" class="formMediumHorz form-horizontal imageForm"><div class="col-md-8"><div class="form-group"><label ng-show="!imageFormUtils.id" class="col-md-2 control-label"><span>add image</span></label><div ng-class="{'col-md-offset-2': imageFormUtils.id}" class="col-md-10"><div ng-show="!imageFormUtils.id" class="input-group"><span class="input-group-btn"><span class="btn btn-primary btn-file">Browse<input type="file" name="inputFile" cm-file-upload="" class="fileUpload"></span></span><input type="text" ng-model="imageFormUtils.imgFile.name" required readonly class="form-control"></div><div ng-show="imageFormUtils.id" class="editingHeader">editing image &#35;{{ imageFormUtils.sortIndex + 1 }}<span ng-show="imageFormUtils.preview" class="editingDefaultImg"><span class="glyphicon glyphicon-star"></span>default</span></div></div></div><div class="form-group"><label class="col-md-2 control-label">caption</label><div class="col-md-10"><div text-angular="" ng-model="imageFormUtils.caption"></div></div></div><div class="form-group"><label class="col-md-2 control-label">default</label><div class="col-md-10"><input type="checkbox" ng-model="imageFormUtils.preview" class="checkbox">[ make this the main image ]</div></div><div class="col-md-10 col-md-offset-2 controlButtons"><div ng-show="uploadImageForm.errorPresent &amp;&amp; uploadImageForm.$error.required" class="formMessageError">A required field is missing</div><div ng-show="uploadImageForm.clicked" ng-repeat="err in exerciseModel.errorMessages" class="formMessageError animateFade">{{err.message}}</div><div ng-show="!uploadImageForm.errorPresent &amp;&amp; uploadImageForm.formSuccess" class="alert alert-success animateFade">{{uploadImageForm.message}}</div><button type="submit" ng-click="uploadImageForm.formClick($event)" class="btn btn-medium btn-primary"><span ng-show="!imageFormUtils.id">add image</span><span ng-show="imageFormUtils.id">update image</span></button><a ng-click="stopEditingImg()" ng-show="imageFormUtils.id" class="stopEditing"><span class="glyphicon glyphicon-remove-circle"></span>cancel edit</a><a ng-click="deleteImg()" ng-show="imageFormUtils.id" class="deleteImg"><span class="glyphicon glyphicon-remove"></span>delete</a></div></div><div class="col-md-4"><div ng-show="!imageFormUtils.id" class="thumbnailsSection"><div class="currentImageHeader">current images<a ng-class="{'sorting': sorting}" ng-click="startSortImages()" class="sortLink"><span class="glyphicon glyphicon-sort"></span>sort order</a><span class="defaultImgKey"><span class="glyphicon glyphicon-star"></span> : default</span></div><!-- regular image display--><div ng-if="exerciseModel.images.length === 0">no images yet</div><div ng-repeat="x in exerciseModel.images" ng-show="!sorting" class="thumbContainer"><img ng-src="{{ x.url }}.thumbnail{{ x.extension }}" alt="image thumbnail"><div class="controls"><span ng-click="setCurrentImg({{ x.id }})" class="edit"><span class="glyphicon glyphicon-edit"></span></span><span class="sortNumber">&#35;{{ $index + 1 }}</span><span ng-show="x.preview" class="glyphicon glyphicon-star defaultImg"></span></div></div><!-- sortable image display--><div ng-show="sorting" class="sortingHeader"><span class="glyphicon glyphicon-sort"></span> drag and drop images to sort<a ng-click="saveSortImages()" class="sortFinish">Save</a><a ng-click="cancelSortImages()" class="sortCancel">Cancel</a></div><ul ui-sortable="sortableOptions" cm-image-sorting="" ng-model="exerciseModel.images" ng-show="sorting" class="sortContainer"><li ng-repeat="x in exerciseModel.images" class="sortImages"><img ng-src="{{ x.url }}.thumbnail{{ x.extension }}" alt="image thumbnail"><span class="sortNumber">{{ $index + 1 }}</span></li></ul></div><div ng-show="imageFormUtils.id" class="imageShowcase"><img ng-src="{{ exerciseModel.images[imageFormUtils.sortIndex].url }}.medium{{ exerciseModel.images[imageFormUtils.sortIndex].extension }}" alt="current image thumbnail"></div></div></form></div><!-- -- Videos ----><div ng-class="{active: panes.videos}" class="tab-pane">videos</div></div></div></section></div>